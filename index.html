<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="icon" href="favicon.ico">

  <title>Index</title>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/default.min.css">
  <link rel="stylesheet" href="css/monokai_sublime.css">
  <link rel="stylesheet" href="css/style.css">


  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>

  <!-- Fixed navbar -->
  <nav class="navbar navbar-default">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
          aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
      </div>

    </div>
  </nav>



  <style type="text/css">
    .draggable {
      border: 1px solid black;
      width: 100px;
      height: 50px;
    }
  </style>
  <div class="container">
    <div class="row">
      <h2 class="text-center">Use your droppable zones inside iframe!</h2>


      <h2 class="text-center">Try it now</h2>
      <div class="draggable">Drag me</div><br><br>
      <iframe id="testframe" frameborder="0" style="width:100%; height:600px; border:1px solid #e7e7e7;"></iframe>
    </div>


  </div>

  <!-- /END THE FEATURETTES -->
  <!-- FOOTER -->

  <!-- Bootstrap core JavaScript -->

  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/highlight.min.js"></script>
  <script>
    hljs.initHighlightingOnLoad();
  </script>
  <script type="text/javascript" src="js/jquery-1.11.3.min.js"></script>
  <script type="text/javascript" src="js/jquery-ui-1.11.4.custom.js"></script>
  <script type="text/javascript" src="js/jquery.ui.touch-punch.min.js"></script>
  <script type="text/javascript" src="jquery-ui-droppable-iframe.js"></script>
  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <script src="js/ie10-viewport-bug-workaround.js"></script>
  <script type="text/javascript">
    $(function () {
      $("#testframe").attr('src', 'iframe.html').load(function () {
        var iframe = $(this).contents();
        iframe.find('.droppable').droppable({
          hoverClass: "ui-droppable-hover",
          activeClass: "ui-droppable-active",
          tolerance: "pointer",
          greedy: true,
         
          drop: function (event, ui) {
            console.log(" DROP parent");
          },
          over: function (event, ui) {
            console.log("over parent");
           
          },
        });
        iframe.find('.child').droppable({
          hoverClass: "ui-droppable-hover",
          activeClass: "ui-droppable-active",
          tolerance: "pointer",
          greedy: true,
          drop: function (event, ui) {
            console.log("DROP child");
          },
          over: function (event, ui) {
            console.log("over child");
          },
        });
      });

      $('.draggable').draggable({
        scroll: true,
          cursorAt: { left: 5 },
        iframeScroll: true,
        scrollSensitivity: 20,
        iframeFix: true,
        opacity: 0.35,
        helper: "clone",
        revert: "invalid"
      });


    });
      // document.querySelector('#testframe').addEventListener("mousemove", function(e) {
      // e.preventDefault();
      // console.log("parent mousemove");
      // })

  </script>
  <script>
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r;
      i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date();
      a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-43342702-3', 'auto');
    ga('send', 'pageview');
  </script>
</body>

</html>